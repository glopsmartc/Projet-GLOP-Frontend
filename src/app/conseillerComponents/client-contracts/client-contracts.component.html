<div class="container my-4">
  <h1 class="text-center">Liste des Contrats Clients</h1>
  <br><br>

  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p>Chargement des contrats en cours...</p>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
    {{ errorMessage }}
  </div>

  <!-- Contracts Table -->
  <table *ngIf="!isLoading && clients.length > 0" class="table table-striped mt-4">
    <thead class="thead-dark">
      <tr>
        <th>Nom du Client</th>
        <th>Prénom du Client</th>
        <th>Téléphone</th>
        <th>Email</th>
        <th>Statut</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let client of clients; index as i">
        <td>{{ client.clientNom }}</td>
        <td>{{ client.clientPrenom }}</td>
        <td>{{ client.telephone }}</td>
        <td>{{ client.email }}</td>
        <td>{{ client.statut }}</td>
        <td>
          <button class="btn btn-primary" (click)="onDownloadContract(client.id)">
            Télécharger le PDF
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- No Contracts Message -->
  <div *ngIf="!isLoading && clients.length === 0" class="alert alert-info" role="alert">
    Aucun contrat trouvé.
  </div>
</div>
